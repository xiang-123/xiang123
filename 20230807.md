# 実験までのスケジュール
|時間（〆切）|TODO|
| :--- | :--- |
|~8/7|今まで指摘した懸念事項を整理、それぞれについて解決の道筋を示す|
|8/7~|プロンプトの修正だけでGPTが使えるようになるかを判断|
|~8/14|プラン（GPTかWOZか）を決定、GPTで実験ができるかどうかの結論を出す　→　菊池先生に報告|
|8/15~|システム開発（練習含む）|
|~8/31|システム仮完成|
|9/1~|予備実験|
|~9/7|システム完成・研究計画書完成　→　菊池先生に確認|
|9/8~|被験者募集開始|
|9/15|実験開始|


懸念事項に漏れがないか、解決の道筋に誤りがないかなどを私たちで確認し、コメントします。
そのコメントに対応し、プランを確定したら一度菊池先生に報告しましょう。

## ~8/7:今まで指摘した懸念事項を整理、それぞれについて解決の道筋を示す
## 今まで指摘した懸念事項
### 30件試した際の対話の流れ
- Robohon:（1回目）こんにちは、初めまして、ロボホンです。お名前はなんですか？（固定内容）
- Robohon:（2~8回目）こんにちは。（名前）さん、またお会いできて嬉しいですね。（固定内容）
- User:自由発話
- Robohon:（1回目）（名前）さんと会話できて非常に嬉しいです。今日から私たちは8回の会話を行います。よろしくお願いします。（固定内容）
- Robohon:（2~8回目）今日も一緒にお話ししましょう。よろしくお願いします。（固定内容）
- User:自由発話
----------------------------------------------------------------------------------------------------
- Robohon:（名前）さん最近何か悩みや困っていることがありますか？（類似質問）（1~8回目）
- User:自由発話
- Robohon:具体的にはどんな問題があるのでしょうか？（ユーザが以前に言った内容に基づいて、返信内容を適宜変更し、簡単な挨拶や**同感、同意を表現する**）（1~8回目）
- User:自由発話
- Robohon:そうですね、そのような状況では、（名前）さんが最も困難に感じ**た**ことはなんでしょか？（返信内容を適宜変更し、簡単な挨拶や**同感、同意を表現する**）（1~8回目）
- User:自由発話
- Robohon:関心示し型 or そらし型（文は長くなくてもOK、２〜３文）
----------------------------------------------------------------------------------------------------
- Robohon:（1~7回目）今日（名前）さんとの対話はとても**楽しかった**です。また次回お会いしましょう。
- Robohon:（8回目）（名前）さん、お忙しい中、**実験に参加**していただき本当にありがとうございま**す**。
### 30件試した際の対話の流れについての問題点と解決案
- 問題点：「最も困難に感じたことはなんでしょか」の「感じた」
  - 解決案：「感じた」　→　「感じる」
    - 理由：現時点抱えている悩みについて聞くため、過去形ではなく、現在形で聞く
- 問題点：8回目の「実験に参加」という表現はアンケートに回答する際に影響を及ぼす可能性がある
  - 解決案：1~7回目と同じ内容にする。最後の「また次回お会いしましょう」は話さない。
- 問題点：「対話はとても楽しかったです」の「楽しかった」、悩み相談の対話の最後、「楽しかった」は適切ではない
  - 解決案：「楽しかった」より、他のより一般的な言葉を使う
- 問題点：Q2とQ３の前に「それは大変ですね」「それは難しいですね」のような同感・同意表現（関心示し型の励まし発話とは言える）があり、Q2とQ3深掘り質問の目的に合わない
  - 解決案：同感・同意表現（関心示し型の励まし発話とは言える）を削除する。簡単な相槌（ユーザの「聞いていますよ」と感じさせる内容）を提示し、Q２とQ３を聞く
- 問題点：最後の励ましにおいて、質問してすぐに対話を終了することがあり、対話破綻と言える
  - 解決案：励まし発話はもし質問があれば、対話終了する前に１ターンの対話を追加
    - Robohon:「大丈夫？」のような質問（励まし発話）
    - User:自由発話
    - Robohon:今日（名前）さんとの対話はとても****です。また次回お会いしましょう。
### 対話の流れ：挨拶→悩みを聞く（Q1）→悩みの具体的な状況を聞く（Q2）→悩みの核心を聞く（Q3）→励ます
- Q3の「核心」：その悩みにおいて最も難しいと感じるところ
  - Q2は悩みの具体的な状況を聞きます。
- Q1：悩みを聞きます→Q2：悩みをより具体的に聞気ます→Q3：悩みの中、最も難しいところを聞きます
- Q2とQ3深掘り質問の目的
   1. ユーザに「ロボットがちゃんと励ましていますよ」と感じさせるため
   2. 具体的に悩みを直面していることの当事者意識を高めるため

### 自動生成において異なる種類の励まし発話がされないよう、しっかり分類・定義する。
- 理由：現時点30件を試してみた結果、関心示し型と肯定安心型（少数）が混ぜてしまうことがある。そらし型と促し型（多数）が混ぜてしまうことがある。
#### 先行研究における5種類の励まし発話の定義（論文原文）
|種類|定義|説明（論文原文）|例（論文原文）|
| :--- | :--- | :--- | :--- |
|肯定安心型|相手の現状や未来を肯定する・相手を安心させる|**理由を述べ、状況を肯定し、相手を安心させる例が多かった。その際、理由としては、一般論、相手の現状の肯定的な解釈、経験談や実例などがあげられる。他には、積極的に相手を褒めたり、褒めるまではしなくても、相手がしたことはごく当然であることを伝えることで相手を肯定する。また、相手の考え－その多くは悲観的なものである－を否定することで相手を肯定する例も見られた。文法面からの特徴としては、理由を述べる「～から...」を用いた文が多く見られた。相手を安心させるために、「きっと」「必ず」「はずだ」「に決まっている」などの話し手の確信を表す表現も目立った。**（在这种情况下，经常见到的例子是阐述原因，肯定对方的情况，并使对方安心。作为原因，常常使用一般性论点、对对方现状的积极解释、经验故事或实例等。另外，也可以积极地表扬对方，或者即使不直接表扬，也可以通过告诉对方他们的行为是理所当然的来肯定对方。此外，还可以通过否定对方的想法——其中大部分是悲观的——来肯定对方。在语法方面，我们经常看到使用“～から...”来阐述原因。为了让对方安心，表达说话者确信的表达方式如“きっと”、“必ず”、“はずだ”、“に決まっている”等也显著地被使用。）|「大丈夫。絶対に伝わってる。奇跡はあるんだよ」。「・・・あいつら、親が思う以 上に強いもんだ。毎日、自分の力でたたかってんだ・・・待つしかないんだよ」。「ミチルは昔からコツコツやる 方だったから。すぐスラスラ読めるようになるよ」。「二人で死ぬよりはマシだったと、じい ちゃんは思う」。「何をいうんだ。お前のせいじゃない」|
|関心示し型|相手へ質問する・相手への同情や理解を示す|**相手の状況に関心を示していることを示すことで、相手の問題に関わろうとしている話し手の心的態度が見られる。質問や、同情、理解していることを示す表現が用いられる。これらは、積極的な関与というより、相手の話を聞く姿勢や、相手に理解を示していることを伝えようとしている。**（**通过展示对对方状况的关心，可以看出说话者试图参与对方的问题。使用了提问、同情和理解等表达方式。这些表达更多地表现出倾听对方的态度，向对方传达理解。**）他の型との併用が多いことは、相手に関心を示すというあまり積極的でない態度だけでは物足りないと話し手が考えているからとも解釈できるが、むしろ、まずは関心を示し、相手を受け入れ、そこから、積極的に関与していこうとする話し手の心的態度の表れと考えるほうが適切であろう。（这种与其他类型结合使用的情况，可能是因为说话者认为仅仅展示对对方的关心态度还不足够，而是要首先表现出关心，接纳对方，然后积极参与其中。）|「もしもし、もしもし、大丈夫ですか？」。「どうしたの？」。「そうでしたか...お父さんもさぞ気落ちな さったでしょう。」「お気の毒ですが...」「辛かったね、 お母さんが死んで。」。「次雄、わかったから。お母さん、次雄の 気持ち、ちゃんとわかったから。」|
|促し型|問題を抱える相手への行動などの促し|この型は、**話し手ではなく、心理的、或は肉体的に何らかの問題を抱える相手自身に行為などを行うことを促すものである**。とらえ方によっては、**問題を抱える相手にさらなる負担をかけることになるとも考えられ、その点において他の型と性格を異にする**。**典型的なのが、「頑張って」**。「頑張って」が使用される場合も、単独ではあまりなく、飲食を伴って使用されたり、緊急事態に際して使用されたりしていた。他の型と併用されやすいのは、「頑張って・頑張ってください」だけでは、これは相手だけの問題だと突き放した感じになるからではないだろうか。**この型で多かったのは、「私がそばにいる」 と言って促すものや、話し手と一緒に何かをすることを相手に促すものであった。相手に負担を強いることへの話し手の配慮が見られる**。（这种类型是促使对方自身采取行动，无论是心理上还是身体上抱有某种问题。根据不同的理解方式，这可能会给问题承担者带来额外的负担，在这一点上与其他类型有所不同。典型的例子是“加油”。“加油”这个表达通常不是单独使用的，而是伴随着食物或在紧急情况下使用。其他类型的併用可能是因为仅仅说“加油”会让对方感觉被抛弃在问题中。在这种类型中，较常见的是说“我会在你身边”以促使对方，或是促使对方与自己一起做某事。表现出了话者对对方负担的关注。）|【傷心から病気になった相手に】「お気を確かに。」。【迷いがあって飛び込めない友人に】「じゃあ...一緒に飛ぼう」。【急な転勤が決まった相手に】（飲食をすすめながら）「ま、どうであれ、頑張れよな」。【地震による避難を促す際】「あと十五キロで次の避難地に到着します。皆さん、もう一息ですから、頑張って下さい」。【二度と恋愛できないと言う相手に】「決めなくてもいいんじゃないかな。楽に考えたほうが楽しいよ」|
|行為提供型|話し手の行為提供の申し出|単独で用いられるより他の型との併用での用例が多かった。特に、「促し型」との併用が多く、**「一緒にする」というものが目立った**。 特に公的な場面で、「手を尽くす」「遠慮しないで」「できるだけ」 など、決まり文句になっているような表現が見られた。|「とにかく、手は尽くしますんで・・・」。「おばさんがなんとかするから。安心しな、みつこ。明日連絡するから。いい知らせ待ってんだよ」。「父ちゃんはずっと見てる。いつも健太達のそばにいて、ずっと応援している。」。「（歩くのを）練習すればいいよ。手伝ってあげる」。「手伝います。さっそく明日からやりましょう」|
|そらし型|相手が抱えている問題から気をそらせる|**相手が抱える問題に積極的に関わろうとしない話し手の心的態度が見られる。他者をけなして笑わせたり、冗談を言ったり、飲食を勧めたりする内容の発話を行う。話し手が相手の気持ちを問題から積極的にそらせようとしたりすることを目的としている。飲食が肉体的にエネルギーを補充する一番の方法でもあり、それによって精神的な回復も期待できる**（可以观察到说话者对于对方所面临问题不积极地参与其中的心态。他们进行着贬低他人、逗笑、说笑话或推荐食物等与问题无关的发言。说话者的目的似乎是将对方的注意从问题上转移开来。）|【親をなくした女の子に対して】「このおじちゃん、もんじゃ焼くのだけは名人なんだ。床屋の腕は悪いから店はガラガラだけどね」。【父親が死んだ友達に向かって】「おやじは目玉だけだしさ」「目玉おやじは、毎朝湯呑茶碗で風呂入ってんだせ」。「冗談じゃないって。おれのおやじ、（指で長さを示し）こんな小せえんだよ」。【弟が危篤状態になっている孫に対して】「腹が減っては戦はできんぞ。明日は横手二中との、再試合じゃろうが」|
#### プロセス１における5種類の励まし発話の定義
- 行為提供型と促し型をより細かく分けた
  - 促し型：**心理的、或は身体的に何らかの問題を抱える相手自身に行為などを行うことを促すもの**。
    - 例： 「工夫してみてもいいかもしれないね!とりあえずやってみたら。」、「楽に考えたほうが楽しいよ、そんな深刻に捉えないで。」
  - 行為提供型：**相手に何らかの行為を提供する内容の発話、「一緒にする」より一方的に「手伝ってあげる」ことを重視する**。
    - 例： 「私ができそうなことがありそうなら手伝ってあげる。」、「いつでも協力するよ、必要だったら。」
- しかし、当時そらし型と促し型はまだ細かく分けなかった。
  - 例：「飲みに行かない？」はそらし型、促し型両方とも言える
- 肯定安心型と関心示し型も似ている部分がある
  - 例：「映画を見たり、好きな音楽を聴いたりして、一息つく時間も大切です。」は文脈から見るとそらし型ですが、定義から見ると肯定安心型です。

#### 先行研究における5種類の励まし発話の定義を、より詳細に定義（誰が見ても分類に疑問が生じないようにする）
|種類|定義|説明|メモ|
| :--- | :--- | :--- | :--- |
|肯定安心型|相手の現状や未来を肯定する・相手を安心させる|理由を述べ、状況を肯定し、相手を安心させる。相手の現状の肯定的な解釈、経験談や実例などがあげられる。**積極的に相手を褒めたり、褒めるまではしなくても、相手がしたことはごく当然であることを伝えることで相手を肯定する**。また、相手の考え－その多くは悲観的なものである－を否定することで相手を肯定する。|vs.関心示し型。。「誰でもあるよ」「あなたは素晴らしいですよ」は肯定安心型、より**客観的・普遍的**に「当然ですよ」「もちろんですよ」と肯定する。「美味しい食事に囲まれるのも一つの幸せです」という文の客観性が高いため、→**肯定安心型**|
|関心示し型|相手へ質問する・相手への同情や理解を示す|相手の状況に関心を示していることを示すことで、相手の問題に関わろうとしている。**質問や、同情、理解していることを示す表現が用いられる**。積極的な関与というより、相手の話を聞く姿勢や、相手に理解を示していることを伝えようとしている。|vs.肯定安心型。。「**誰**でもあるよ」（状況を肯定する）より、「**私**もありますよ、あなたの気持ちをよく理解していますよ」「わかりますよ」（理解を示す）、より**主観的**に理解を示す。|
|促し型|問題を抱える相手への行動などの促し|心理的、或は身体的に何らかの問題を抱える相手自身に行為などを行うことを促すもの。**問題を抱える相手にさらなる負担をかけることになる**。|vs.そらし型。。「頑張って」はさらなる負担をかけるため、**促し型**。　　「ちょっと気を紛らわせてみましょう。最近読んだ面白い本や見た映画の話をしてみてはどうでしょう？」→負担をかけない内容：**そらし型**。     「あー、美味しいアイスクリームを食べると、少しは気分が変わるかもしれませんね。」→負担をかけない内容：**そらし型**。     「その状況も一つの経験として捉えてみてはいかがでしょうか？」　→　負担をかける内容：**促し型**。|
|行為提供型|話し手の行為提供の申し出|相手に何らかの行為を提供する内容の発話、「一緒にする」より一方的に「手伝ってあげる」ことを重視する||
|そらし型|相手が抱えている問題から気をそらせる|他者をけなして笑わせたり、冗談を言ったり、**飲食を勧めたり**する内容の発話を行う。話し手が相手の気持ちを問題から積極的にそらせようとしたりすることを目的としている。**問題を抱える相手に負担を軽くするまたは負担をかけないような内容**。**肉体的や精神的にエネルギーを補充する方法によって精神的な回復を期待する**|vs.促し型。。肯定安心型。。|

#### 要するに、誰が見ても分類に疑問が生じないように分ける
- 行為提供型　vs. 促し型
  - 行為提供型は一方的に。促し型は相手に行為などを行うことを促すもの
- そらし型　vs. 促し型
  - そらし型は負担を軽くするまたは負担をかけないもの、肉体的や精神的にエネルギーを補充する。促し型はさらなる負担をかけるもの
- 関心示し型　vs. 肯定安心型
  - 関心示し型は主観的に理解を示す、質問する（大丈夫？）。肯定安心型は褒める以外、客観的に状況を肯定する（大丈夫！）。
- そらし型　vs. 肯定安心型
  - そらし型は冗談を言ったり、飲食を勧めたりする内容、負担をかけない。肯定安心型は客観的に・普遍的な内容を示す
    - 例：「映画を見たり、好きな音楽を聴いたりして、一息つく時間も大切です。」→肯定安心型
    - 例：「映画を見たり、好きな音楽を聴いたりしていきましょう。/いくのはどうでしょうか？」→そらし型（促し型ではない理由：負担をかけないもの）

### 望ましい場所(最後のロボット発話)以外のところに、関心示し型の発話が生成されたら、どのように対処するのか。
- 解決の道筋
  - 最後の励まし発話以外のところに、関心示し型の発話を削除する。挨拶や相槌「そうですか」「なるほど」だけ提示する。
### もし被験者が「今日は悩みを持っていない」と答えたら、それは実験上に問題になるのか。
- 解決の道筋
  - 被験者募集する際に、「悩みを話す実験ですよ」を教示し、悩みを持っている被験者を募集する。
### 被験者は毎日異なる悩みをロボットにいうべきなのか。
- 解決の道筋
  - 毎日同じ悩みを話しても大丈夫。実験の目的は、2種類の励まし発話が主観的幸福感に与える影響を調査することであり、励まし効果と主観的幸福感の関係も調査する。
### 毎日異なる悩みを思い出すのが逆に被験者の負担になり、幸福感が下がる懸念はあるのか。「悩みばかり相談することで主観的幸福感が低下しないか」について全く考慮されていない。
- 「毎日異なる悩みを思い出すのが逆に被験者の負担になり、幸福感が下がる懸念はあるのか。」について、論文を探してみたが、まだ明らかに結論を出す論文を見つからなかった　→　引き続き探す（修論提出までこのロジックを立てる）
- 「悩みを話しても主観的幸福感を低下しない」ことの解決の道筋
  - ロボットによる励まし以外に、主観的幸福感を低下しない方法（主観的幸福感を高める方法）をとり、被験者が悩み以外の内容も話してもらう（案）
    - 自己肯定の言葉を一言してください：自分が乗り越えるよ
    - 悩みの中、ポジティブな面を聞く
    - 現時点考えている解決案を聞く
    - 自分を励ます言葉を一言してください：自分ができますよ
### プロンプトやパラメータなどの調整によって今回見つかった問題点がクリアできるのか
- 難しいと思います
  - 最後の励まし発話以外に、関心示し型の内容をしないことがクリアできる
  - プロンプトを修正し、そらし型のノイズ除去が難しい
#### 対話の流れを見たら、雑談モデルを使わなくても、深堀質問のためにいくつかのパターンの定型文を用意すれば、対話が成立する（gpt4のモデルを使う理由を説明する）被験者の具体的な悩みの内容を踏まえて返事してほしいという理由であれば、そのような返事を生成するためのプロンプトをすべき。ただし、30件の結果、悩みの内容を言及していないシステム返事もたくさんある。
##### 「具体的にはどんな約束を守らないのでしょうか？」は悩みの内容を言及しているシステム返事です。一方、「具体的にはどんな問題があるのでしょうか？」は悩みの内容を言及していない、どんな悩み発話にも適用できるシステム返事ですよね。
- gpt4のモデルを使う理由は、おしゃった通り、被験者の具体的な悩みの内容を踏まえて励ましを提供してほしい
- **深堀質問のために定型文を用意すれば、対話が成立すると同じく感じた。また、gpt4によって生成された励まし発話も似ている部分があり、励まし発話も沢山の定型文を用意することが可能であると感じた**。

### システム応答音声がロボホンらしくない。
- 現状のGoogleの音声で応答するシステムの音色を変えたいか変えたくないか
  - まだわからない。その理由は外見と音色に違和感があるかどうか自分で判断しにくいです。私は違和感がなければそのまま使います。
  - もしロボット利用者としての母語話者たちにとって違和感がすごく顕著な場合は変えたいです。
  - もしそれほど違和感がない場合、実験開始日の締切までに変える期限を決めて、期限までに変えられないと変えないです。

### TODO
- 8/7~14:プロンプトの修正だけでGPTが使えるようになるかを判断
  - 現時点では、プロンプトの修正だけでGPTが使えると断言するのは難しいが、再現性があまり高くないと見られた。
  - また、自分の実験目的（理想的な自動応答生成ができたと仮定した場合に、対話ロボットによるユーザの悩みの種類に適した種類の励まし発話が、ユーザへの影響を調べる）を実現するために、GPT4でも「理想的な自動応答生成」ができないと感じている。
- 「悩みを話しても主観的幸福感を低下しない」ことを解決する方法を決める


## ~8/14:プラン（GPTかWOZか）を決定、GPTで実験ができるかどうかの結論を出す
### GPTで実験ができるまでに２つの問題点
- 1.　特定の１種類の励まし発話を生成できるかどうか　→ ノイズ除去が難しい
- 2. 再現性の問題　→ 解決できた

- gpt4によって生成された励まし発話

対話実験中にgpt4を使わない。バリエーション豊かなロボホン発話を生成させたいなら、gpt4を使っていくつかのパターンのロボホン発話を事前に用意する。
確かにそうです。今の流れは例１の通り、３ターンまでは定型文、最後だけはgpt4によって生成された励まし発話です。問題点としては、生成された励まし発話のノイズ除去が難しいです。
例２も非常に良い方法です。今までgpt4を使って何度も試してみましたが、様々な種類の励まし発話（混ぜる）が生成されました。これらの励まし発話にはある程度固定化された表現があるように感じています。もし15～20件？くらいの多様な励まし発話を事前に用意できれば、実験の豊かさを保証することも可能だと考えています。



# 研究概要の説明
- 中間発表会の資料

# 残りの課題:対話の流れと実現方法



